import{d as D,h as x,Y as T,aR as z,j as a,a as h,A as $,s as t,q as w,aK as u,aY as f}from"./index-a584ef0b.js";import{f as g}from"./file-download-c021f1d0.js";import{a as k}from"./CollectorCardList-5ce66dbe.js";import{P as H}from"./PageWithTitle-96a4a919.js";const m={all:["collectors"],listByType:o=>[...m.all,o],detail:o=>[...m.all,o]},P=(o,l)=>x.getCollectors(o,l).then(s=>s.data),b=o=>D(m.listByType(o),({signal:l})=>P(o,{signal:l})),A=()=>{var y,j;const o=T(),l=z(),s=b("sharphound"),i=b("azurehound"),v=(e,r)=>{x.downloadCollector(e,r).then(n=>{var d,c;const p=((c=(d=n.headers["content-disposition"])==null?void 0:d.match(/^.*filename="(.*)"$/))==null?void 0:c[1])||`${e}-${r}.zip`;g(n.data,p)}).catch(n=>{console.error(n),l(f("This file could not be downloaded. Please try again.","downloadCollectorFailure"))})},C=(e,r)=>{x.downloadCollectorChecksum(e,r).then(n=>{var d,c;const p=((c=(d=n.headers["content-disposition"])==null?void 0:d.match(/^.*filename="(.*)"$/))==null?void 0:c[1])||`${e}-${r}.zip.sha256`;g(n.data,p)}).catch(n=>{console.error(n),l(f("This file could not be downloaded. Please try again.","downloadCollectorChecksumFailure"))})};return a.jsx(H,{title:"Download Collectors","data-testid":"download-collectors",children:a.jsxs(h,{display:"grid",gap:o.spacing(4),children:[(s.isError||i.isError||((y=s.data)==null?void 0:y.data.versions.length)===0)&&a.jsx($,{severity:"warning",children:"A browser extension (such as an ad blocker or other privacy extension) may prevent download links on this page from being displayed. Pause or disable your browser extensions and then refresh this page."}),a.jsxs(h,{children:[a.jsx(t,{variant:"h2",children:"SharpHound"}),s.isLoading?a.jsx(w,{children:a.jsxs(h,{p:2,children:[a.jsx(t,{variant:"h6",children:a.jsx(u,{variant:"text"})}),a.jsx(t,{variant:"body1",children:a.jsx(u,{variant:"text"})})]})}):s.isError||((j=s.data)==null?void 0:j.data.versions.length)===0?a.jsx(t,{variant:"body1",children:"There are currently no versions of SharpHound available for download"}):a.jsx(k,{collectors:s.data.data.versions.map(e=>({collectorType:"sharphound",version:e.version,checksum:e.sha256sum,isLatest:e.version===s.data.data.latest,isDeprecated:e.deprecated,onClickDownload:v,onClickDownloadChecksum:C})).sort((e,r)=>r.version.localeCompare(e.version))})]}),a.jsxs(h,{children:[a.jsx(t,{variant:"h2",children:"AzureHound"}),i.isLoading?a.jsx(w,{children:a.jsxs(h,{p:2,children:[a.jsx(t,{variant:"h6",children:a.jsx(u,{variant:"text"})}),a.jsx(t,{variant:"body1",children:a.jsx(u,{variant:"text"})})]})}):i.isError||i.data.data.versions.length===0?a.jsx(t,{variant:"body1",children:"There are currently no versions of AzureHound available for download"}):a.jsx(k,{collectors:i.data.data.versions.map(e=>({collectorType:"azurehound",version:e.version,checksum:e.sha256sum,isLatest:e.version===i.data.data.latest,isDeprecated:e.deprecated,onClickDownload:v,onClickDownloadChecksum:C})).sort((e,r)=>r.version.localeCompare(e.version))})]})]})})},Q=A;export{Q as default};
