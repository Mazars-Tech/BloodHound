import{cV as ie,R as le,r as V,d as E,h as S,j as e,b2 as Z,G as g,cW as v,T as y,F as $,I as B,S as z,M as f,bj as Ae,bk as Me,b3 as ee,b4 as Q,B as W,b0 as de,b1 as ne,ch as te,aK as Pe,cG as _e,ce as we,bl as ye,a8 as w,cX as Ce,bo as I,cY as De,bg as F,cZ as Le,c_ as Ne,c$ as Ie,d0 as Fe,cg as Te,d1 as ke,d2 as Ee,u as qe,c as Re,bL as R,cJ as We,bX as Oe,a as Ve,q as Qe,aY as T,bM as $e,bN as Be}from"./index-a584ef0b.js";import{C as Y}from"./ConfirmationDialog-e2da8cb5.js";import{C as ze}from"./ContentPage-b5dcd0a0.js";import{D as Ge}from"./DataTable-38a000d7.js";import{D as Ke}from"./Disable2FADialog-53f5f996.js";import{u as k}from"./useToggle-e96e3749.js";import"./TableContainer-2d43236c.js";import"./KeyboardArrowRight-6e82a04f.js";const He=({onCancel:o,onSubmit:l,isLoading:h,error:b})=>{const{control:c,handleSubmit:u,setValue:j,formState:{errors:t}}=ie({defaultValues:{emailAddress:"",principal:"",firstName:"",lastName:"",password:"",needsPasswordReset:!1,SAMLProviderId:"",roles:[1]}}),[p,A]=le.useState("password");V.useEffect(()=>{p==="password"&&j("SAMLProviderId","")},[p,j]);const n=E(["getRoles"],({signal:r})=>S.getRoles({signal:r}).then(a=>a.data.data.roles)),U=E(["listSAMLProviders"],({signal:r})=>S.listSAMLProviders({signal:r}).then(a=>a.data.data.saml_providers)),P=r=>{r.preventDefault(),o()};return e.jsx("form",{autoComplete:"off",onSubmit:u(l),children:!(n.isLoading||U.isLoading)&&e.jsxs(e.Fragment,{children:[e.jsx(Z,{children:e.jsxs(g,{container:!0,spacing:2,children:[e.jsx(g,{item:!0,xs:12,children:e.jsx(v,{name:"emailAddress",control:c,rules:{required:"Email Address is required"},render:({field:r})=>{var a;return e.jsx(y,{...r,variant:"standard",id:"emailAddress",label:"Email Address",type:"email",fullWidth:!0,error:!!t.emailAddress,helperText:(a=t.emailAddress)==null?void 0:a.message,"data-testid":"create-user-dialog_input-email-address"})}})}),e.jsx(g,{item:!0,xs:12,children:e.jsx(v,{name:"principal",control:c,rules:{required:"Principal Name is required"},render:({field:r})=>{var a;return e.jsx(y,{...r,variant:"standard",id:"principal",label:"Principal Name",fullWidth:!0,error:!!t.principal,helperText:(a=t.principal)==null?void 0:a.message,"data-testid":"create-user-dialog_input-principal-name"})}})}),e.jsx(g,{item:!0,xs:12,children:e.jsx(v,{name:"firstName",control:c,rules:{required:"First Name is required"},render:({field:r})=>{var a;return e.jsx(y,{...r,variant:"standard",id:"firstName",label:"First Name",fullWidth:!0,error:!!t.firstName,helperText:(a=t.firstName)==null?void 0:a.message,"data-testid":"create-user-dialog_input-first-name"})}})}),e.jsx(g,{item:!0,xs:12,children:e.jsx(v,{name:"lastName",control:c,rules:{required:"Last Name is required"},render:({field:r})=>{var a;return e.jsx(y,{...r,variant:"standard",id:"lastName",label:"Last Name",fullWidth:!0,error:!!t.lastName,helperText:(a=t.lastName)==null?void 0:a.message,"data-testid":"create-user-dialog_input-last-name"})}})}),e.jsxs(e.Fragment,{children:[e.jsx(g,{item:!0,xs:12,children:e.jsxs($,{children:[e.jsx(B,{id:"authenticationMethod-label",sx:{ml:"-14px",mt:"8px"},children:"Authentication Method"}),e.jsxs(z,{labelId:"authenticationMethod-label",id:"authenticationMethod",name:"authenticationMethod",onChange:r=>A(r.target.value),value:p,variant:"standard",fullWidth:!0,"data-testid":"create-user-dialog_select-authentication-method",children:[e.jsx(f,{value:"password",children:"Username / Password"}),U.data.length>0&&e.jsx(f,{value:"saml",children:"SAML"})]})]})}),p==="password"?e.jsxs(e.Fragment,{children:[e.jsx(g,{item:!0,xs:12,children:e.jsx(v,{name:"password",control:c,defaultValue:"",rules:{required:"Password is required",minLength:{value:12,message:"Password must be at least 12 characters long"},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])/,message:"Password must contain at least 1 lowercase character, 1 uppercase character, 1 number and 1 special character (!@#$%^&*)"}},render:({field:r})=>{var a;return e.jsx(y,{...r,variant:"standard",id:"password",label:"Initial Password",type:"password",fullWidth:!0,error:!!t.password,helperText:(a=t.password)==null?void 0:a.message,"data-testid":"create-user-dialog_input-password"})}})}),e.jsx(g,{item:!0,xs:12,children:e.jsx(v,{name:"needsPasswordReset",control:c,defaultValue:!1,render:({field:r})=>e.jsx(Ae,{control:e.jsx(Me,{...r,onChange:(a,x)=>r.onChange(x),color:"primary","data-testid":"create-user-dialog_checkbox-needs-password-reset"}),label:"Force Password Reset?"})})})]}):e.jsx(g,{item:!0,xs:12,children:e.jsx(v,{name:"SAMLProviderId",control:c,defaultValue:"",rules:{required:"SAML Provider is required"},render:({field:{onChange:r,onBlur:a,value:x,ref:m},formState:O,fieldState:q})=>{var d;return e.jsxs($,{error:!!t.SAMLProviderId,children:[e.jsx(B,{id:"SAMLProviderId-label",sx:{ml:"-14px",mt:"8px"},children:"SAML Provider"}),e.jsx(z,{onChange:r,onBlur:a,value:x,ref:m,labelId:"SAMLProviderId-label",id:"SAMLProviderId",name:"SAMLProviderId",variant:"standard",fullWidth:!0,"data-testid":"create-user-dialog_select-saml-provider",children:U.data.map(C=>e.jsx(f,{value:C.id.toString(),children:C.name},C.id))}),e.jsx(ee,{children:(d=t.SAMLProviderId)==null?void 0:d.message})]})}})})]}),e.jsx(g,{item:!0,xs:12,children:e.jsx(v,{name:"roles.0",control:c,defaultValue:1,rules:{required:"Role is required"},render:({field:r})=>e.jsxs($,{children:[e.jsx(B,{id:"role-label",sx:{ml:"-14px",mt:"8px"},children:"Role"}),e.jsx(z,{labelId:"role-label",id:"role",name:"role",onChange:a=>{const x=parseInt(a.target.value,10);r.onChange(isNaN(x)?1:x)},value:isNaN(r.value)?"":r.value.toString(),variant:"standard",fullWidth:!0,"data-testid":"create-user-dialog_select-role",children:n.isLoading?e.jsx(f,{value:1,children:"Loading..."}):n.data.map(a=>e.jsx(f,{value:a.id.toString(),children:a.name},a.id))})]})})})]})}),e.jsxs(Q,{children:[b&&e.jsx(ee,{error:!0,style:{margin:0},children:"An unexpected error occurred. Please try again."}),e.jsx(W,{autoFocus:!0,color:"inherit",onClick:P,disabled:h,"data-testid":"create-user-dialog_button-close",children:"Cancel"}),e.jsx(W,{color:"primary",type:"submit",disabled:h,"data-testid":"create-user-dialog_button-save",children:"Save"})]})]})})},Xe=({open:o,onClose:l,onExited:h,onSave:b,isLoading:c,error:u})=>{const j=t=>{b(t).then(()=>{l()}).catch(p=>console.error(p))};return e.jsxs(de,{open:o,fullWidth:!0,maxWidth:"sm",onClose:l,disableEscapeKeyDown:!0,PaperProps:{"data-testid":"create-user-dialog"},TransitionProps:{onExited:h},children:[e.jsx(ne,{children:"Create User"}),e.jsx(He,{onCancel:l,onSubmit:j,isLoading:c,error:u})]})},Ye=({onCancel:o,onSubmit:l,userId:h,isLoading:b,error:c})=>{var p,A;const u=E(["getUser",h],({signal:n})=>S.getUser(h,{signal:n}).then(U=>U.data.data),{cacheTime:0}),j=E(["getRoles"],({signal:n})=>S.getRoles({signal:n}).then(U=>U.data.data.roles)),t=E(["listSAMLProviders"],({signal:n})=>S.listSAMLProviders({signal:n}).then(U=>U.data.data.saml_providers));return u.isLoading||j.isLoading||t.isLoading?e.jsxs(e.Fragment,{children:[e.jsx(Z,{children:e.jsx(te,{children:e.jsx(Pe,{})})}),e.jsx(Q,{children:e.jsx(Q,{children:e.jsx(W,{autoFocus:!0,color:"inherit",onClick:o,"data-testid":"update-user-dialog_button-close",children:"Close"})})})]}):u.isError||j.isError||t.isError?e.jsxs(e.Fragment,{children:[e.jsx(Z,{children:e.jsx(te,{children:"User not found."})}),e.jsx(Q,{children:e.jsx(Q,{children:e.jsx(W,{autoFocus:!0,color:"inherit",onClick:o,"data-testid":"update-user-dialog_button-close",children:"Close"})})})]}):e.jsx(Ze,{onCancel:o,onSubmit:l,initialData:{emailAddress:u.data.email_address||"",principal:u.data.principal_name||"",firstName:u.data.first_name||"",lastName:u.data.last_name||"",SAMLProviderId:((p=u.data.saml_provider_id)==null?void 0:p.toString())||"",roles:((A=u.data.roles)==null?void 0:A.map(n=>n.id))||[]},roles:j.data,SAMLProviders:t.data,isLoading:b,error:c})},Ze=({onCancel:o,onSubmit:l,initialData:h,roles:b,SAMLProviders:c,isLoading:u,error:j})=>{const{control:t,handleSubmit:p,setValue:A,formState:{errors:n},watch:U}=ie({defaultValues:{...h,authenticationMethod:h.SAMLProviderId?"saml":"password"}}),P=U("authenticationMethod");return V.useEffect(()=>{P==="password"&&A("SAMLProviderId","")},[P,A]),e.jsxs("form",{autoComplete:"off",onSubmit:p(l),children:[e.jsx(Z,{children:e.jsxs(g,{container:!0,spacing:1,children:[e.jsx(g,{item:!0,xs:12,children:e.jsx(v,{name:"emailAddress",control:t,rules:{required:"Email Address is required"},render:({field:r})=>{var a;return e.jsx(y,{...r,variant:"standard",id:"emailAddress",label:"Email Address",type:"email",fullWidth:!0,error:!!n.emailAddress,helperText:(a=n.emailAddress)==null?void 0:a.message,"data-testid":"update-user-dialog_input-email-address"})}})}),e.jsx(g,{item:!0,xs:12,children:e.jsx(v,{name:"principal",control:t,rules:{required:"Principal Name is required"},render:({field:r})=>{var a;return e.jsx(y,{...r,variant:"standard",id:"principal",label:"Principal Name",fullWidth:!0,error:!!n.principal,helperText:(a=n.principal)==null?void 0:a.message,"data-testid":"update-user-dialog_input-principal-name"})}})}),e.jsx(g,{item:!0,xs:12,children:e.jsx(v,{name:"firstName",control:t,rules:{required:"First Name is required"},render:({field:r})=>{var a;return e.jsx(y,{...r,variant:"standard",id:"firstName",label:"First Name",fullWidth:!0,error:!!n.firstName,helperText:(a=n.firstName)==null?void 0:a.message,"data-testid":"update-user-dialog_input-first-name"})}})}),e.jsx(g,{item:!0,xs:12,children:e.jsx(v,{name:"lastName",control:t,rules:{required:"Last Name is required"},render:({field:r})=>{var a;return e.jsx(y,{...r,variant:"standard",id:"lastName",label:"Last Name",fullWidth:!0,error:!!n.lastName,helperText:(a=n.lastName)==null?void 0:a.message,"data-testid":"update-user-dialog_input-last-name"})}})}),e.jsxs(e.Fragment,{children:[e.jsx(g,{item:!0,xs:12,children:e.jsx(v,{name:"authenticationMethod",control:t,rules:{required:"Authentication Method is required"},render:({field:{onChange:r,onBlur:a,value:x,ref:m},formState:O,fieldState:q})=>e.jsxs($,{children:[e.jsx(B,{id:"authenticationMethod-label",sx:{ml:"-14px",mt:"8px"},children:"Authentication Method"}),e.jsxs(z,{onChange:r,onBlur:a,value:x,ref:m,labelId:"authenticationMethod-label",id:"authenticationMethod",name:"authenticationMethod",variant:"standard",fullWidth:!0,"data-testid":"update-user-dialog_select-authentication-method",children:[e.jsx(f,{value:"password",children:"Username / Password"}),c.length>0&&e.jsx(f,{value:"saml",children:"SAML"})]})]})})}),P==="saml"&&e.jsx(g,{item:!0,xs:12,children:e.jsx(v,{name:"SAMLProviderId",control:t,rules:{required:"SAML Provider is required"},render:({field:{onChange:r,onBlur:a,value:x,ref:m},formState:O,fieldState:q})=>e.jsxs($,{children:[e.jsx(B,{id:"SAMLProviderId-label",sx:{ml:"-14px",mt:"8px"},children:"SAML Provider"}),e.jsx(z,{onChange:r,onBlur:a,value:x,ref:m,labelId:"SAMLProviderId-label",id:"SAMLProviderId",name:"SAMLProviderId",variant:"standard",fullWidth:!0,"data-testid":"update-user-dialog_select-saml-provider",children:c.map(d=>e.jsx(f,{value:d.id.toString(),children:d.name},d.id))})]})})})]}),e.jsx(g,{item:!0,xs:12,children:e.jsx(v,{name:"roles.0",control:t,defaultValue:1,rules:{required:"Role is required"},render:({field:r})=>e.jsxs($,{children:[e.jsx(B,{id:"role-label",sx:{ml:"-14px",mt:"8px"},children:"Role"}),e.jsx(z,{labelId:"role-label",id:"role",name:"role",onChange:a=>{const x=parseInt(a.target.value,10);r.onChange(isNaN(x)?1:x)},value:isNaN(r.value)?"":r.value.toString(),variant:"standard",fullWidth:!0,"data-testid":"update-user-dialog_select-role",children:b.map(a=>e.jsx(f,{value:a.id.toString(),children:a.name},a.id))})]})})})]})}),e.jsxs(Q,{children:[j&&e.jsx(ee,{error:!0,style:{margin:0},children:"An unexpected error occurred. Please try again."}),e.jsx(W,{autoFocus:!0,color:"inherit",onClick:o,disabled:u,"data-testid":"update-user-dialog_button-close",children:"Cancel"}),e.jsx(W,{color:"primary",type:"submit",disabled:u,"data-testid":"update-user-dialog_button-save",children:"Save"})]})]})},Je=({open:o,onClose:l,onExited:h,userId:b,onSave:c,isLoading:u,error:j})=>{const t=p=>{c(p).then(()=>{l()}).catch(A=>console.error(A))};return e.jsxs(de,{open:o,fullWidth:!0,maxWidth:"sm",onClose:l,disableEscapeKeyDown:!0,keepMounted:!1,PaperProps:{"data-testid":"update-user-dialog"},TransitionProps:{onExited:h},children:[e.jsx(ne,{children:"Update User"}),e.jsx(Ye,{onCancel:l,onSubmit:t,userId:b,isLoading:u,error:j})]})},es=_e({paper:{border:"1px solid #d3d4d5"}})(o=>e.jsx(we,{elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},...o})),ss=({userId:o,onOpen:l,showPasswordOptions:h,showAuthMgmtButtons:b,showDisableMfaButton:c,userDisabled:u,onUpdateUser:j,onDisableUser:t,onEnableUser:p,onDeleteUser:A,onUpdateUserPassword:n,onExpireUserPassword:U,onManageUserTokens:P,onDisableUserMfa:r,index:a})=>{const[x,m]=le.useState(null),O=d=>{m(d.currentTarget),l(d,o)},q=()=>b?u?e.jsxs(f,{onClick:d=>{p(d),m(null)},children:[e.jsx(I,{children:e.jsx(w,{icon:ke})}),e.jsx(F,{primary:"Enable User"})]}):e.jsxs(f,{onClick:d=>{t(d),m(null)},children:[e.jsx(I,{children:e.jsx(w,{icon:Ee})}),e.jsx(F,{primary:"Disable User"})]}):null;return e.jsxs("div",{children:[e.jsx(ye,{"data-testid":"manage-users_user-row-action-menu-button",onClick:O,size:"large",children:e.jsx(w,{icon:Ce})}),e.jsxs(es,{anchorEl:x,"data-testid":`manage-users_user-row-action-menu-${a}`,keepMounted:!0,open:!!x,onClose:()=>{m(null)},children:[e.jsxs(f,{onClick:d=>{j(d),m(null)},children:[e.jsx(I,{children:e.jsx(w,{icon:De})}),e.jsx(F,{primary:"Update User"})]}),h&&e.jsxs(f,{onClick:d=>{n(d),m(null)},children:[e.jsx(I,{children:e.jsx(w,{icon:Le})}),e.jsx(F,{primary:"Change Password"})]}),h&&b&&e.jsxs(f,{onClick:d=>{U(d),m(null)},children:[e.jsx(I,{children:e.jsx(w,{icon:Ne})}),e.jsx(F,{primary:"Force Password Reset"})]}),e.jsxs(f,{onClick:d=>{P(d),m(null)},children:[e.jsx(I,{children:e.jsx(w,{icon:Ie})}),e.jsx(F,{primary:"Generate / Revoke API Tokens"})]}),c&&e.jsxs(f,{onClick:d=>{r(d),m(null)},children:[e.jsx(I,{children:e.jsx(w,{icon:Fe})}),e.jsx(F,{primary:"Disable MFA"})]}),b&&q(),b&&e.jsxs(f,{onClick:d=>{A(d),m(null)},children:[e.jsx(I,{children:e.jsx(w,{icon:Te})}),e.jsx(F,{primary:"Delete User"})]})]})]})},as=()=>{var ae,re;const o=qe(),[l,h]=V.useState(null),[b,c]=k(!1),[u,j]=k(!1),[t,p]=k(!1),[A,n]=k(!1),[U,P]=k(!1),[r,a]=k(!1),[x,m]=k(!1),[O,q]=k(!1),[d,C]=V.useState(!1),[oe,G]=V.useState(""),[ce,K]=V.useState(""),J=Re(s=>s.auth.user),se=E(["getSelf"],({signal:s})=>S.getSelf({signal:s}).then(i=>i.data.data)),_=E(["listUsers"],({signal:s})=>S.listUsers({signal:s}).then(i=>i.data.data.users)),ue=E(["listSAMLProviders"],({signal:s})=>S.listSAMLProviders({signal:s}).then(i=>i.data.data.saml_providers)),H=R(s=>S.createUser(s),{onSuccess:()=>{o(T("User created successfully!","createUserSuccess")),_.refetch()}}),X=R(s=>S.updateUser(l,s),{onSuccess:()=>{o(T("User updated successfully!","updateUserSuccess")),_.refetch()}}),me=R(async s=>{var D,L;const i=_.data.find(N=>N.id===s),M={emailAddress:i.email_address||"",principal:i.principal_name||"",firstName:i.first_name||"",lastName:i.last_name||"",SAMLProviderId:((D=i.saml_provider_id)==null?void 0:D.toString())||"",roles:((L=i.roles)==null?void 0:L.map(N=>N.id))||[],is_disabled:!0};return S.updateUser(l,M)},{onSuccess:()=>{o(T("User disabled successfully!","disableUserSuccess")),_.refetch()}}),he=R(async s=>{var D,L;const i=_.data.find(N=>N.id===s),M={emailAddress:i.email_address||"",principal:i.principal_name||"",firstName:i.first_name||"",lastName:i.last_name||"",SAMLProviderId:((D=i.saml_provider_id)==null?void 0:D.toString())||"",roles:((L=i.roles)==null?void 0:L.map(N=>N.id))||[],is_disabled:!1};return S.updateUser(l,M)},{onSuccess:()=>{o(T("User enabled successfully!","enableUserSuccess")),_.refetch()}}),pe=R(s=>S.deleteUser(s),{onSuccess:()=>{o(T("User deleted successfully!","deleteUserSuccess")),_.refetch()}}),xe=R(s=>S.expireUserAuthSecret(s),{onSuccess:()=>{o(T("User password expired successfully!","expireUserPasswordSuccess"))}}),ge=R(({userId:s,secret:i,needsPasswordReset:M})=>S.putUserAuthSecret(s,{needs_password_reset:M,secret:i}),{onSuccess:()=>{o(T("User password updated successfully!","updateUserPasswordSuccess")),m()}}),je=((ae=ue.data)==null?void 0:ae.reduce((s,i)=>(s[i.id]=i,s),{}))||{},fe=[{label:"Username"},{label:"Email"},{label:"Name"},{label:"Created"},{label:"Role"},{label:"Status"},{label:"Auth Method"},{label:"",alignment:"right"}],be=s=>s.deleted_at.Valid?"Deleted":s.is_disabled?"Disabled":"Active",Se=s=>{var i,M;return s.saml_provider_id?e.jsx("span",{children:`SAML: ${((i=je[s.saml_provider_id])==null?void 0:i.name)||s.saml_provider_id}`}):(M=s.AuthSecret)!=null&&M.totp_activated?e.jsx("span",{style:{whiteSpace:"pre-wrap"},children:`Username / Password
MFA Enabled`}):e.jsx("span",{children:"Username / Password"})},Ue=(re=_.data)==null?void 0:re.map((s,i)=>{var M,D,L;return[s.principal_name,s.email_address,`${s.first_name} ${s.last_name}`,e.jsx("span",{style:{whiteSpace:"pre"},children:We.fromISO(s.created_at).toFormat(Oe.DATETIME)}),(D=(M=s.roles)==null?void 0:M[0])==null?void 0:D.name,be(s),Se(s),e.jsx(ss,{userId:s.id,onOpen:(N,ve)=>{h(ve)},showPasswordOptions:s.saml_provider_id===null||s.saml_provider_id===void 0,showAuthMgmtButtons:s.id!==(J==null?void 0:J.id),showDisableMfaButton:(L=s.AuthSecret)==null?void 0:L.totp_activated,userDisabled:s.is_disabled,onUpdateUser:j,onDisableUser:p,onEnableUser:n,onDeleteUser:P,onUpdateUserPassword:m,onExpireUserPassword:a,onManageUserTokens:q,onDisableUserMfa:C,index:i})]});return e.jsxs(e.Fragment,{children:[e.jsxs(ze,{title:"Manage Users","data-testid":"manage-users",children:[e.jsx(Ve,{display:"flex",justifyContent:"flex-end",alignItems:"center",minHeight:"24px",mb:2,children:e.jsx(W,{color:"primary",variant:"contained",disableElevation:!0,onClick:()=>{h(null),c()},"data-testid":"manage-users_button-create-user",children:"Create User"})}),e.jsx(Qe,{"data-testid":"manage-users_table",children:e.jsx(Ge,{headers:fe,data:Ue,isLoading:_.isLoading,showPaginationControls:!1})})]}),e.jsx(Xe,{open:b,onClose:c,onExited:H.reset,onSave:H.mutateAsync,isLoading:H.isLoading,error:H.error}),e.jsx(Je,{open:u,onClose:j,onExited:X.reset,userId:l,onSave:X.mutateAsync,isLoading:X.isLoading,error:X.error}),e.jsx(Y,{open:A,text:"Are you sure you want to enable this user?",title:"Enable User",onClose:s=>{s&&he.mutate(l),n()}}),e.jsx(Y,{open:t,text:"Are you sure you want to disable this user?",title:"Disable User",onClose:s=>{s&&me.mutate(l),p()}}),e.jsx(Y,{open:U,text:"Are you sure you want to delete this user?",title:"Delete User",onClose:s=>{s&&pe.mutate(l),P()}}),e.jsx(Y,{open:r,text:"Are you sure you want to expire this user's password? This user will be prompted to change their password on next login.",title:"Force Password Reset",onClose:s=>{s&&xe.mutate(l),a()}}),e.jsx(Ke,{open:d,onClose:()=>{C(!1),G(""),K(""),se.refetch()},onCancel:()=>{C(!1),G(""),K(""),se.refetch()},onSave:s=>{G(""),S.disenrollMFA(l,{secret:s}).then(()=>{C(!1),o(T("User MFA disabled successfully!","disableUserMfaSuccess")),K(""),_.refetch()}).catch(()=>{G("Unable to verify password. Please try again.")})},error:oe,secret:ce,onSecretChange:s=>K(s.target.value),contentText:"Are you sure you want to disable MFA for this user? Please enter your password to confirm."}),e.jsx($e,{open:x,onClose:m,userId:l,onSave:ge.mutate,showNeedsPasswordReset:!0}),e.jsx(Be,{open:O,onClose:q,userId:l})]})},us=as;export{us as default};
