import{i as g,d7 as b,d8 as y,r as m,j as e,q as d,a as n,s as t,aK as u,A as f,k as v,B as h,a8 as C,d9 as F,b0 as A,b1 as k,b2 as w,ch as E,b4 as D}from"./index-a584ef0b.js";import{C as T}from"./ContentPage-b5dcd0a0.js";const P=({flag:a,onClick:r,disabled:i})=>{const o=()=>{r(a.id)};return e.jsx(d,{children:e.jsxs(n,{p:2,display:"flex",justifyContent:"space-between",flexWrap:"wrap",style:{rowGap:"1rem"},children:[e.jsxs(n,{overflow:"hidden",children:[e.jsx(t,{variant:"h6",children:a.name}),e.jsx(t,{variant:"body1",children:a.description})]}),e.jsx(n,{children:e.jsx(h,{disabled:i,variant:"outlined",color:a.enabled?"primary":"inherit",sx:{borderColor:()=>{if(!a.enabled)return"rgba(0,0,0,0.23)"}},onClick:o,startIcon:a.enabled?e.jsx(C,{icon:F,fixedWidth:!0}):null,children:a.enabled?"Enabled":"Disabled"})})]})})},W=({open:a,onCancel:r,onConfirm:i})=>e.jsxs(A,{open:a,disableEscapeKeyDown:!0,PaperProps:{"data-testid":"early-access-features-warning-dialog"},children:[e.jsx(k,{children:"Heads up!"}),e.jsx(w,{children:e.jsx(E,{children:"The features on this page are under active development and may be unstable, broken, or incomplete."})}),e.jsxs(D,{children:[e.jsx(h,{color:"inherit",onClick:r,"data-testid":"early-access-features-warning-dialog_button-close",children:"Take me back"}),e.jsx(h,{color:"primary",onClick:i,"data-testid":"early-access-features-warning-dialog_button-confirm",children:"I understand, show me the new stuff!"})]})]}),_=()=>{const a=g(),{data:r,isLoading:i,isError:o}=b(),x=y(),[c,j]=m.useState(!0);return e.jsxs(e.Fragment,{children:[e.jsx(T,{title:"Early Access Features","data-testid":"early-access-features",children:!c&&(i?e.jsx(d,{elevation:0,children:e.jsxs(n,{p:2,children:[e.jsx(t,{variant:"h6",children:e.jsx(u,{})}),e.jsx(t,{variant:"body1",children:e.jsx(u,{})})]})}):o?e.jsxs(f,{severity:"error",children:[e.jsx(v,{children:"Could Not Display Early Access Features"}),"An unexpected error occurred. Please refresh this page or try again later."]}):r.filter(s=>s.user_updatable).length===0?e.jsx(d,{elevation:0,children:e.jsxs(n,{p:2,children:[e.jsx(t,{variant:"h6",children:"No Early Access Features Available"}),e.jsx(t,{variant:"body1",children:"There are no early access features available at this time. Please check back later."})]})}):r.filter(s=>s.user_updatable).sort((s,l)=>s.id-l.id).map((s,l)=>e.jsx(n,{mt:l===0?0:2,"data-testid":`early-access-features_toggle-${l}`,children:e.jsx(P,{flag:s,onClick:p=>{x.mutate(p)},disabled:c})},s.id)))}),e.jsx(W,{open:c,onCancel:()=>a(-1),onConfirm:()=>j(!1)})]})},N=_;export{N as default};
